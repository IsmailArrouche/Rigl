{"ast":null,"code":"import Header from\"./Header\";import FirstName from\"./FirstName\";import LastName from\"./LastName\";import Email from\"./Email\";import Password from\"./Password\";// redux\nimport{useDispatch,useSelector}from\"react-redux\";import{signUp}from\"../../app/features/user/userSlice\";// form api\nimport{useForm}from\"react-hook-form\";import{useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Form(){// redux\nconst dispatch=useDispatch();// react-hook-form\nconst{register,handleSubmit,setValue,reset,formState:{errors}}=useForm();// submit form\nconst onSubmit=data=>dispatch(signUp(data));// get latest info for editing\nconst editUser=useSelector(state=>state.user.editUser);// set values on edit info event\nuseEffect(()=>{if(editUser.length===0)return;setValue(\"firstName\",\"\".concat(editUser===null||editUser===void 0?void 0:editUser.firstName),{shouldValidate:true});setValue(\"lastName\",\"\".concat(editUser===null||editUser===void 0?void 0:editUser.lastName),{shouldValidate:true});setValue(\"email\",\"\".concat(editUser===null||editUser===void 0?void 0:editUser.email),{shouldValidate:true});setValue(\"password\",\"\".concat(editUser===null||editUser===void 0?void 0:editUser.password),{shouldValidate:true});},[editUser]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-12 md:mt-24 mx-auto md:px-20 px-5\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-10\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"lg:w-6/12 pb-10 xl:w-4/12 w-full grid grid-cols-2 p-2\",autoComplete:\"off\",children:[/*#__PURE__*/_jsx(FirstName,{register:register,errors:errors}),/*#__PURE__*/_jsx(LastName,{register:register,errors:errors}),/*#__PURE__*/_jsx(Email,{register:register,errors:errors}),/*#__PURE__*/_jsx(Password,{register:register,errors:errors}),/*#__PURE__*/_jsx(\"button\",{type:\"reset\",onClick:()=>reset(),className:\"bg-gray-500 text-white py-3 mr-4 mt-4 rounded-2xl opacity-40 transition-opacity hover:opacity-100\",children:\"Clear all\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-[#efe8dd] text-black opacity-70 transition-all shadow-sm shadow-transparent hover:shadow-[#efe8dd] hover:opacity-100 py-3 rounded-2xl ml-4 mt-4\",children:\"Create account\"})]})})]});}export default Form;","map":{"version":3,"names":["Header","FirstName","LastName","Email","Password","useDispatch","useSelector","signUp","useForm","useEffect","jsx","_jsx","jsxs","_jsxs","Form","dispatch","register","handleSubmit","setValue","reset","formState","errors","onSubmit","data","editUser","state","user","length","concat","firstName","shouldValidate","lastName","email","password","className","children","autoComplete","type","onClick"],"sources":["C:/Users/OO/OneDrive/Study/3eme_annee/Rigl/Rigl/sign-up/src/components/Form/Form.js"],"sourcesContent":["import Header from \"./Header\";\r\nimport FirstName from \"./FirstName\";\r\nimport LastName from \"./LastName\";\r\nimport Email from \"./Email\";\r\nimport Password from \"./Password\";\r\n// redux\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { signUp } from \"../../app/features/user/userSlice\";\r\n// form api\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useEffect } from \"react\";\r\n\r\nfunction Form() {\r\n  // redux\r\n  const dispatch = useDispatch();\r\n\r\n  // react-hook-form\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    setValue,\r\n    reset,\r\n    formState: { errors },\r\n  } = useForm();\r\n\r\n  // submit form\r\n  const onSubmit = (data) => dispatch(signUp(data));\r\n\r\n  // get latest info for editing\r\n  const editUser = useSelector((state) => state.user.editUser);\r\n\r\n  // set values on edit info event\r\n  useEffect(() => {\r\n    if (editUser.length === 0) return;\r\n    setValue(\"firstName\", `${editUser?.firstName}`, { shouldValidate: true });\r\n    setValue(\"lastName\", `${editUser?.lastName}`, { shouldValidate: true });\r\n    setValue(\"email\", `${editUser?.email}`, { shouldValidate: true });\r\n    setValue(\"password\", `${editUser?.password}`, { shouldValidate: true });\r\n  }, [editUser]);\r\n\r\n  return (\r\n    <div className=\"container mt-12 md:mt-24 mx-auto md:px-20 px-5\">\r\n      <Header />\r\n\r\n      <div className=\"mt-10\">\r\n        <form\r\n          onSubmit={handleSubmit(onSubmit)}\r\n          className=\"lg:w-6/12 pb-10 xl:w-4/12 w-full grid grid-cols-2 p-2\"\r\n          autoComplete=\"off\"\r\n        >\r\n          <FirstName register={register} errors={errors} />\r\n          <LastName register={register} errors={errors} />\r\n          <Email register={register} errors={errors} />\r\n          <Password register={register} errors={errors} />\r\n          <button\r\n            type=\"reset\"\r\n            onClick={() => reset()}\r\n            className=\"bg-gray-500 text-white py-3 mr-4 mt-4 rounded-2xl opacity-40 transition-opacity hover:opacity-100\"\r\n          >\r\n            Clear all\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"bg-[#efe8dd] text-black opacity-70 transition-all shadow-sm shadow-transparent hover:shadow-[#efe8dd] hover:opacity-100 py-3 rounded-2xl ml-4 mt-4\"\r\n          >\r\n            Create account\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}